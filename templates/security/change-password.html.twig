<body>
<link rel="stylesheet" href="{{ asset('css/app.css') }}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.css">
<div class="ui middle aligned center aligned grid">
    <div class="column">
        <h2 class="ui teal image header">
            <div class="content">
                Register
            </div>
        </h2>
        {{ form_start(form, { 'attr': {'class': 'ui large form'}}) }}

        {% if error.current %}
            <div class="ui negative message">
                <i class="close icon"></i>
                <div class="header" style="text-align: left">
                    There was a problem
                </div>
                {% for err in error %}
                    <p style="text-align: left">{{ err.messageTemplate }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <div class="ui stacked segment">
            <div class="field">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    {{ form_widget(form.password.first) }}
                </div>
            </div>
            <div class="field">
                <div class="ui left icon input">
                    <i class="lock icon"></i>
                    {{ form_widget(form.password.second) }}
                </div>
            </div>
            <button class="ui fluid large teal submit button" id="login">Change password</button>
        </div>

        <div class="ui error message"></div>

        <input type="hidden" name="_csrf_token"
               value="{{ csrf_token('authenticate') }}"
        >


        {{ form_end(form) }}

    </div>
</div>
</body>
<script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>
<script>
    $('.close.icon').on('click', function () {
        $(this).closest(".ui.negative.message").remove();
    })
</script>